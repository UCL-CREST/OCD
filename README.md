### [Chaiyong Ragkhitwetsagul](https://cragkhit.github.io), [Jens Krinke](http://www0.cs.ucl.ac.uk/staff/j.krinke/index.html), [David Clark](http://www0.cs.ucl.ac.uk/staff/D.Clark/)
#### [CREST centre](http://crest.cs.ucl.ac.uk/), Department of Computer Science, University College London

Additional material to:

Chaiyong Ragkhitwetsagul, Jens Krinke, David Clark: A Comparison of Code Similarity Analysers. (Please email the authors for a copy.)

As an extension to:

Chaiyong Ragkhitwetsagul, Jens Krinke, David Clark: Similarity of Source Code in the Presence of Pervasive Modifications. 16th International Working Conference on Source Code Analysis and Manipulation (SCAM), Raleigh, NC, USA, October 2016.

#### [Download the OCD Framework](https://github.com/UCL-CREST/OCD/blob/master/ocd.tar.gz?raw=true)

---

### Abstract
Source code analysis to detect code cloning, code plagiarism, and code reuse suffers from the problem of code modifications. We are interested in two types of code modifications in this study: pervasive modifications, i.e. transformations that may have a global effect, and local modifications, i.e. code changes that are contained in a single method or code block. We evaluate 30 similarity detection techniques and tools using five experimental scenarios for Java source code. These are (1) pervasively modified code, created with tools for source code and bytecode obfuscation, and boiler-plate code, (2) source code normalisation through compilation and decompilation using different decompilers, (3) reuse of optimal configurations over different data sets, (4) tool evaluation using ranked-based measures, and (5) local+global code modifications. Our experimental results show that with the presence of pervasive modifications, some of the general textual similarity measures can offer similar performance to specialised code similarity tools, while in the presence of boiler-plate code, highly specialised source code similarity detection techniques and tools outperform textual similarity measures. Our study strongly validates the use of compilation/decompilation as a normalisation technique. Its use reduced false classifications to zero for three of the tools. Moreover, we demonstrate that optimal configurations are very sensitive to a specific data set. After directly applying optimal configurations derived from one data set to another, the tools perform poorly on the new data set. Code similarity analysers are thoroughly evaluated not only based on several well-known pair-based and query-based error measures but also on each specific type of pervasive code modification. This broad, thorough study is the largest in existence and potentially an invaluable guide for future users of similarity detection in source code.

### Contents
1. [The Experimental Framework](#the-experimental-framework)
2. [Tools and Techniques](#tools-and-techniques)
3. [Scenario 1: Pervasive Modifications (data set)](#scenario-1)
4. [Scenario 2: Decompilation (data set)](#scenario-2)
5. [Scenario 3: Reused Boiler-Plate Code (data set)](#scenario-3)
6. [Scenario 4: Ranked Results](#scenario-4)
7. [Scenario 5: Local + Global Modifications (data set)](#scenario-5)
8. [Results](#results)
9. [Research Question 1 (Performance comparison)](#rq1)
10. [Research Question 2 (Optimal Configurations)](#rq2)
11. [Research Question 3 (Normalisation by Decompilation)](#rq3)
12. [Research Question 4 (Reuse of Configurations)](#rq4)
13. [Research Question 5 (Ranked Results)](#rq5)
14. [Research Question 6 (Local + Global Code Modifications)](#rq6)

---

### The Experimental Framework

The general framework of our study as shown below consists of 5 main steps. In Step 1, we collect test data consisting of Java source code files. Next, the source files are transformed by applying pervasive modifications at source and bytecode level. In the third step, all original and transformed source files are normalised. A simple form of normalisation is pretty printing the source files which is used in similarity or clone detection. We also use decompilation. In Step 4, the similarity detection tools are executed pairwise against the set of all normalised files, producing similarity reports for every pair. In the last step, the similarity reports are analysed.

![Experimental Framework](https://raw.githubusercontent.com/UCL-CREST/ocd/master/1.png)

### Tools and Techniques

Several tools and techniques were used in this study. These fall into three categories: obfuscators, decompilers, and detectors. The tool set included source and bytecode obfuscators, and two decompilers. The detectors cover a wide range of similarity measurement techniques and methods including plagiarism and clone detection, compression distance, string matching, and information retrieval. All tools are open source in order to expedite the repeatability of our experiments.

#### Obfuscators, Decompilers

Type	| Tool |	Link
------|------|------
Source code obfuscator	| Artifice	| [Download](https://www.tu-braunschweig.de/isf/research/artifice/index.html)
Bytecode obfuscator	    | ProGuard  |	[Download](http://proguard.sourceforge.net/)
Decompiler	            | Krakatau  |	[Download](https://github.com/Storyyeller/Krakatau)
Decompiler              | Procyon	  | [Download](https://bitbucket.org/mstrobel/procyon/wiki/Java%20Decompiler)

#### Similarity Detection Tools

| Tool/technique	| Similarity calculation |	Link |
|----------------|------------------------|------|
| Clone detectors |   |  |
| ccfx	| tokens and suffix tree matching	| [Download](http://www.ccfinder.net/) |
| deckard	| characteristic vectors of AST optimised by LSH | [Download](https://github.com/skyhover/Deckard) |
| iclones | tokens and generalised suffix tree	| [Download](http://www.softwareclones.org/iclones.php) |
| nicad	| TXL and string comparison (LCS)	| [Download](http://www.txl.ca/nicaddownload.html) |
| simian |	line-based string comparison	| [Download](http://www.harukizaemon.com/simian/) |
| Plagiarism detectors | | |
| jplag-java |	tokens, Karp Rabin matching, Greedy String Tiling	| [Download](https://jplag.ipd.kit.edu/) |
| jplag-text |	tokens, Karp Rabin matching, Greedy String Tiling | [Download](https://jplag.ipd.kit.edu/) |
| plaggie	| N/A (not disclosed) | [Download](https://www.cs.hut.fi/Software/Plaggie/) |
| sherlock |	digital signatures | [Download](http://sydney.edu.au/engineering/it/%20scilect/sherlock/) |
| simjava	| tokens and string alignment	| [Download](http://dickgrune.com/Programs/similarity_tester/) |
| simtext	| tokens and string alignment | [Download](http://dickgrune.com/Programs/similarity_tester/) |
| Compression | | |
| 7zncd	| NCD with 7z	| |
| bzip2ncd |	NCD with bzip2 | |
| gzipncd	| NCD with gzip |	|
| xzncd	| NCD with xz	| |
| icd		| ![ICD](https://raw.githubusercontent.com/UCL-CREST/ocd/master/2.png) | |
| ncd	| ncd tool with bzlib & zlib | [Download](http://complearn.org/ncd.html) |
| Others | | |
| bsdiff | ![bsdiff](https://raw.githubusercontent.com/UCL-CREST/ocd/master/3.png) | |
| diff | ![diff](https://raw.githubusercontent.com/UCL-CREST/ocd/master/4.png) | |
| py-difflib | Gestalt pattern matching	| [Download](https://docs.python.org/2/library/difflib.html) |
| py-fuzzywuzzy |	fuzzy string matching	| [Download](https://github.com/seatgeek/fuzzywuzzy) |
| py-jellyfish | approximate and phonetic matching of strings py-ngram fuzzy search based using n-gram | [Download](https://github.com/jamesturk/jellyfish) |
| py-sklearn | cosine similarity from machine learning library | [Download](http://scikit-learn.org/stable/) |

---

### Scenario 1
#### Pervasive Modifications

The data set in this scenario is created to simulate pervasive modifications made to source code by using source and bytecode obfuscators: Artifice, and ProGuard. The total number of pervasively modified source code files is 100. The process of code transformations is displayed below. The data set is called OCD (Obfuscation/Compilation/Decompilation).

![Scenario 1](https://raw.githubusercontent.com/UCL-CREST/ocd/master/5.png)

##### Data set: [Obfuscation/Compilation/Decompilation (OCD)](https://github.com/UCL-CREST/ocd/blob/master/generated.zip)

### Scenario 2
#### Decompilation

In this scenario, the data set is based on the same set of 100 source code files generated in Scenario 1. However, we added normalisation through decompilation to the post-processing (step 3 in the framework) by compiling all the transformed files using javac and decompiling them using either Krakatau or Procyon.

##### Data set: [OCD<sup>decomp</sup> (krakatau)](https://github.com/UCL-CREST/ocd/blob/master/generated_krakatau.zip)
##### Data set: [OCD<sup>decomp</sup> (procyon)](https://github.com/UCL-CREST/ocd/blob/master/generated_procyon.zip)

### Scenario 3
#### Reused Boiler-Plate Code

In this scenario, we want to analyse the tools' performance against a data set that contains files in which fragments of (boiler-plate) code are reused with or without modifications applied. We choose the training set of SOCO (SOurce COde re-use) data set that has been provided in a competition for discovering monolingual re-used source code amongst a given set of programs. The files in the SOCO data set are adapted from the study by Arwin et al. (2006). We found that many of them share the same or very similar boiler-plate code fragments which perform the same task. Some of the boiler-plate fragments have been modified to adapt them to the environment in which the fragment is re-used.

##### Data set: the SOCO data set can be obtained from the competition website (http://users.dsic.upv.es/grupos/nle/soco/). 
##### Fixed answer key: the answer key for SOCO java training data set containing 97 pairs of reused code [download](https://github.com/UCL-CREST/ocd/blob/master/soco_train_clones_fixed.txt)

### Scenario 4
#### Ranked Results

In our three previous scenarios (Ragkhitwetsagul et al., 2016), we compared the toolsâ€™ performances using their optimal F-scores. The F-score offers weighted harmonic mean of precision and recall. It is a set- based measure that does not consider any ordering of results. Instead of looking at the results as a set and applying a cut-off threshold to obtain true and false positives, we consider only a subset of the results based on their rankings. We adopt three error measures mainly used in information retrieval: precision-at-n (prec@n), average r- precision (ARP), and mean average precision (MAP) to measure the toolsâ€™ performances.

##### Further reading: [Manning et al., Introduction to Information Retrieval, Cambridge University Press. 2008.](http://nlp.stanford.edu/IR-book/)

### Scenario 5
#### Local + Glocal Modifications

We have two objectives for this experimental scenario. First, we are interested in a situation where local and global code modifications are combined together. Second, we shift our focus from measuring how good our tools are on finding all similar pairs of pervasively modified code as we did in Scenario 1 to measure how good our tools are on finding similar pairs of code based on each pervasive code modification type. 
The table below presents the 10 pervasive code modification types; including the original (O), source code obfuscation by Artifice (A), decompilation by Krakatau (K), decompilation by Procyon (P<sub>c</sub>), bytecode obfuscation by ProGuard and decompilation by Krakatau (P<sub>g</sub>K), bytecode obfuscation by ProGuard and decompilation by Procyon (P<sub>g</sub>Pc), and four other combinations (AK, AP<sub>c</sub>, AP<sub>g</sub>K, AP<sub>g</sub>P<sub>c</sub>); and ground truth for each of them. The number of code pairs and true positive pairs of A to AP<sub>g</sub>P<sub>c</sub> are twice larger than the Original (O) type because of asymmetric similarity between pairs, i.e. Sim(x,y) and Sim(y,x).

<table border="1" class="contenttable"> <tbody><tr> <td rowspan="2">Type</td><td rowspan="2">Modification</td> <td colspan="2">Obfuscation</td><td rowspan="2">Decomp.</td><td rowspan="2">Pair</td><td rowspan="2">TP</td> </tr> <tr> <td> Source</td><td>Bytecode</td></tr> <tr> <td>O</td><td>Original</td><td></td><td></td><td></td> <td align="right"> 1,089</td> <td align="right">55</td> </tr> <tr> <td>A</td><td>Artifice</td><td align="center">X</td><td></td><td></td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>K</td><td>Krakatau</td><td></td><td></td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>Pc</td><td>Procyon</td><td></td><td></td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>PgK</td><td>ProGuard + Krakatau</td><td></td><td align="center">X</td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>PgPC</td><td>ProGuard + Procyon</td><td></td><td align="center">X</td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>AK</td><td>Artifice + Krakatau</td><td align="center">X </td><td></td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>APc</td><td>Artifice + Procyon</td><td align="center">X</td><td></td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>APgK</td><td>Artifice + ProGuard + Krakatau</td><td align="center">X</td><td align="center">X</td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> <tr> <td>APgPc</td><td>Artifice + ProGuard + Procyon</td><td align="center">X</td><td align="center">X</td><td align="center">X</td> <td align="right"> 2,178</td> <td align="right">110</td> </tr> </tbody></table>

We measured the tools' performance on each Sim<sub>m</sub>(F) set. By applying tools on a pair of original and pervasively modified code, we measure the tools based on one particular type of code modifications at a time.

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/rq6_eq.png" width="600px">

##### Data set: [SOCO<sup>generated</sup>](https://github.com/UCL-CREST/ocd/blob/master/soco_generated.zip)

---

### Results

### RQ1
#### Performance Comparison

*How well do current similarity detection techniques perform in the presence of pervasive source code modifications and boiler-plate code?*

#### Pervasively modified code (OCD data set)

The table below shows the performance of all the tools and their optimal configurations. Using the F-score, ccfx is the winner with the highest value of 0.9760.

<table border="1" class="contenttable"> <tbody> <tr> <td>Tool</td><td>Settings</td><td>Threshold</td><td>FP</td><td>FN</td><td>Acc</td><td>Prec</td><td>Rec</td><td>AUC</td><td>F-score</td><td>Ranking</td></tr> <tr> <td colspan="11"><b>Clone detectors</b></td></tr> <tr> <td>ccfx (C)*</td><td>b=5, t=11</td><td style="text-align: right; ">36</td><td style="text-align: right; ">24</td><td style="text-align: right; ">24</td><td style="text-align: right; ">0.9952</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">0.9995</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">1</td></tr> <tr> <td>deckard (T)*</td><td>mintoken=30</td><td style="text-align: right; ">17</td><td style="text-align: right; ">44</td><td style="text-align: right; ">227</td><td style="text-align: right; ">0.9729</td><td style="text-align: right; ">0.9461</td><td style="text-align: right; ">0.773</td><td style="text-align: right; ">0.9585</td><td style="text-align: right; ">0.8509</td><td style="text-align: right; ">6</td></tr> <tr> <td>&nbsp;</td><td>stride=2</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>similarity=0.95</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>iclones (L)*</td><td>minblock=10</td><td style="text-align: right; ">0</td><td style="text-align: right; ">36</td><td style="text-align: right; ">358</td><td style="text-align: right; ">0.9196</td><td style="text-align: right; ">0.9048</td><td style="text-align: right; ">0.4886</td><td style="text-align: right; ">0.7088</td><td style="text-align: right; ">0.6345</td><td style="text-align: right; ">27</td></tr> <tr> <td>&nbsp;</td><td>minclone=50</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>nicad (L)*</td><td>UPI=0.50</td><td style="text-align: right; ">38</td><td style="text-align: right; ">38</td><td style="text-align: right; ">346</td><td style="text-align: right; ">0.9616</td><td style="text-align: right; ">0.9451</td><td style="text-align: right; ">0.654</td><td style="text-align: right; ">0.8164</td><td style="text-align: right; ">0.773</td><td style="text-align: right; ">23</td></tr> <tr> <td>&nbsp;</td><td>minline=8</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>rename=blind</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>abstract=literal</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>simian (C)*</td><td>threshold=4</td><td style="text-align: right; ">5</td><td style="text-align: right; ">150</td><td style="text-align: right; ">165</td><td style="text-align: right; ">0.9685</td><td style="text-align: right; ">0.8477</td><td style="text-align: right; ">0.835</td><td style="text-align: right; ">0.9262</td><td style="text-align: right; ">0.8413</td><td style="text-align: right; ">9</td></tr> <tr> <td>&nbsp;</td><td>ignoreVariableNames</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td colspan="11"><b>Plagiarism detectors</b></td></tr> <tr> <td>jplag-java</td><td>t=7</td><td style="text-align: right; ">19</td><td style="text-align: right; ">58</td><td style="text-align: right; ">196</td><td style="text-align: right; ">0.9746</td><td style="text-align: right; ">0.9327</td><td style="text-align: right; ">0.804</td><td style="text-align: right; ">0.9563</td><td style="text-align: right; ">0.8636</td><td style="text-align: right; ">3</td></tr> <tr> <td>jplag-text</td><td>t=4</td><td style="text-align: right; ">14</td><td style="text-align: right; ">66</td><td style="text-align: right; ">239</td><td style="text-align: right; ">0.9695</td><td style="text-align: right; ">0.9202</td><td style="text-align: right; ">0.761</td><td style="text-align: right; ">0.9658</td><td style="text-align: right; ">0.8331</td><td style="text-align: right; ">12</td></tr> <tr> <td>plaggie</td><td>M=8</td><td style="text-align: right; ">19</td><td style="text-align: right; ">83</td><td style="text-align: right; ">234</td><td style="text-align: right; ">0.9683</td><td style="text-align: right; ">0.9022</td><td style="text-align: right; ">0.766</td><td style="text-align: right; ">0.9546</td><td style="text-align: right; ">0.8286</td><td style="text-align: right; ">15</td></tr> <tr> <td>sherlock</td><td>N=4, Z=2</td><td style="text-align: right; ">6</td><td style="text-align: right; ">142</td><td style="text-align: right; ">196</td><td style="text-align: right; ">0.9662</td><td style="text-align: right; ">0.8499</td><td style="text-align: right; ">0.804</td><td style="text-align: right; ">0.9447</td><td style="text-align: right; ">0.8263</td><td style="text-align: right; ">17</td></tr> <tr> <td>simjava</td><td>r=16</td><td style="text-align: right; ">15</td><td style="text-align: right; ">120</td><td style="text-align: right; ">152</td><td style="text-align: right; ">0.9728</td><td style="text-align: right; ">0.876</td><td style="text-align: right; ">0.848</td><td style="text-align: right; ">0.9711</td><td style="text-align: right; ">0.8618</td><td style="text-align: right; ">5</td></tr> <tr> <td>simtext</td><td>r=4</td><td style="text-align: right; ">14</td><td style="text-align: right; ">38</td><td style="text-align: right; ">422</td><td style="text-align: right; ">0.954</td><td style="text-align: right; ">0.9383</td><td style="text-align: right; ">0.578</td><td style="text-align: right; ">0.8075</td><td style="text-align: right; ">0.7153</td><td style="text-align: right; ">25</td></tr> <tr> <td colspan="11"><b>Compression tools</b></td></tr> <tr> <td>7zncd-BZip2</td><td>mx=1,3,5</td><td style="text-align: right; ">45</td><td style="text-align: right; ">64</td><td style="text-align: right; ">244</td><td style="text-align: right; ">0.9692</td><td style="text-align: right; ">0.922</td><td style="text-align: right; ">0.756</td><td style="text-align: right; ">0.9557</td><td style="text-align: right; ">0.8308</td><td style="text-align: right; ">14</td></tr> <tr> <td>7zncd-Deflate</td><td>mx=7</td><td style="text-align: right; ">38</td><td style="text-align: right; ">122</td><td style="text-align: right; ">215</td><td style="text-align: right; ">0.9663</td><td style="text-align: right; ">0.8655</td><td style="text-align: right; ">0.785</td><td style="text-align: right; ">0.9454</td><td style="text-align: right; ">0.8233</td><td style="text-align: right; ">20</td></tr> <tr> <td>7zncd-Deflate64</td><td>mx=7,9</td><td style="text-align: right; ">38</td><td style="text-align: right; ">123</td><td style="text-align: right; ">215</td><td style="text-align: right; ">0.9662</td><td style="text-align: right; ">0.8645</td><td style="text-align: right; ">0.785</td><td style="text-align: right; ">0.9453</td><td style="text-align: right; ">0.8229</td><td style="text-align: right; ">21</td></tr> <tr> <td>7zncd-LZMA</td><td>mx=7,9</td><td style="text-align: right; ">41</td><td style="text-align: right; ">115</td><td style="text-align: right; ">213</td><td style="text-align: right; ">0.9672</td><td style="text-align: right; ">0.8725</td><td style="text-align: right; ">0.787</td><td style="text-align: right; ">0.9483</td><td style="text-align: right; ">0.8275</td><td style="text-align: right; ">16</td></tr> <tr> <td>7zncd-LZMA2</td><td>mx=7,9</td><td style="text-align: right; ">41</td><td style="text-align: right; ">118</td><td style="text-align: right; ">213</td><td style="text-align: right; ">0.9669</td><td style="text-align: right; ">0.8696</td><td style="text-align: right; ">0.787</td><td style="text-align: right; ">0.9482</td><td style="text-align: right; ">0.8262</td><td style="text-align: right; ">18</td></tr> <tr> <td>7zncd-PPMd</td><td>mx=9</td><td style="text-align: right; ">42</td><td style="text-align: right; ">140</td><td style="text-align: right; ">198</td><td style="text-align: right; ">0.9662</td><td style="text-align: right; ">0.8514</td><td style="text-align: right; ">0.802</td><td style="text-align: right; ">0.9467</td><td style="text-align: right; ">0.826</td><td style="text-align: right; ">19</td></tr> <tr> <td>bzip2ncd</td><td>C=1..9</td><td style="text-align: right; ">38</td><td style="text-align: right; ">62</td><td style="text-align: right; ">216</td><td style="text-align: right; ">0.9722</td><td style="text-align: right; ">0.9267</td><td style="text-align: right; ">0.784</td><td style="text-align: right; ">0.9635</td><td style="text-align: right; ">0.8494</td><td style="text-align: right; ">7</td></tr> <tr> <td>gzipncd</td><td>C=7</td><td style="text-align: right; ">31</td><td style="text-align: right; ">110</td><td style="text-align: right; ">203</td><td style="text-align: right; ">0.9687</td><td style="text-align: right; ">0.8787</td><td style="text-align: right; ">0.797</td><td style="text-align: right; ">0.9556</td><td style="text-align: right; ">0.8359</td><td style="text-align: right; ">11</td></tr> <tr> <td>icd</td><td>ma=LZMA2</td><td style="text-align: right; ">50</td><td style="text-align: right; ">86</td><td style="text-align: right; ">356</td><td style="text-align: right; ">0.9558</td><td style="text-align: right; ">0.8822</td><td style="text-align: right; ">0.644</td><td style="text-align: right; ">0.9265</td><td style="text-align: right; ">0.7445</td><td style="text-align: right; ">24</td></tr> <tr> <td>&nbsp;</td><td>mx=7,9</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>ncd-zlib</td><td>N/A</td><td style="text-align: right; ">30</td><td style="text-align: right; ">104</td><td style="text-align: right; ">207</td><td style="text-align: right; ">0.9689</td><td style="text-align: right; ">0.8841</td><td style="text-align: right; ">0.793</td><td style="text-align: right; ">0.9584</td><td style="text-align: right; ">0.8361</td><td style="text-align: right; ">10</td></tr> <tr> <td>ncd-bzlib</td><td>N/A</td><td style="text-align: right; ">37</td><td style="text-align: right; ">82</td><td style="text-align: right; ">206</td><td style="text-align: right; ">0.9712</td><td style="text-align: right; ">0.9064</td><td style="text-align: right; ">0.794</td><td style="text-align: right; ">0.9636</td><td style="text-align: right; ">0.8465</td><td style="text-align: right; ">8</td></tr> <tr> <td>xzncd</td><td>-e</td><td style="text-align: right; ">39</td><td style="text-align: right; ">120</td><td style="text-align: right; ">203</td><td style="text-align: right; ">0.9677</td><td style="text-align: right; ">0.8691</td><td style="text-align: right; ">0.797</td><td style="text-align: right; ">0.9516</td><td style="text-align: right; ">0.8315</td><td style="text-align: right; ">13</td></tr> <tr> <td colspan="11"><b>Other similarity analysers</b></td></tr> <tr> <td>bsdiff*</td><td>N/A</td><td style="text-align: right; ">71</td><td style="text-align: right; ">199</td><td style="text-align: right; ">577</td><td style="text-align: right; ">0.9224</td><td style="text-align: right; ">0.6801</td><td style="text-align: right; ">0.423</td><td style="text-align: right; ">0.8562</td><td style="text-align: right; ">0.5216</td><td style="text-align: right; ">30</td></tr> <tr> <td>% diff (L)*</td><td>N/A</td><td style="text-align: right; ">1</td><td style="text-align: right; ">8810</td><td style="text-align: right; ">8</td><td style="text-align: right; ">0.1182</td><td style="text-align: right; ">0.1012</td><td style="text-align: right; ">0.992</td><td style="text-align: right; ">0.4675</td><td style="text-align: right; ">0.1837</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>% diff (T)*</td><td>N/A</td><td style="text-align: right; ">2</td><td style="text-align: right; ">6528</td><td style="text-align: right; ">134</td><td style="text-align: right; ">0.3338</td><td style="text-align: right; ">0.1171</td><td style="text-align: right; ">0.866</td><td style="text-align: right; ">0.4353</td><td style="text-align: right; ">0.2063</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>diff (C)*</td><td>N/A</td><td style="text-align: right; ">8</td><td style="text-align: right; ">626</td><td style="text-align: right; ">184</td><td style="text-align: right; ">0.919</td><td style="text-align: right; ">0.5659</td><td style="text-align: right; ">0.816</td><td style="text-align: right; ">0.9364</td><td style="text-align: right; ">0.6683</td><td style="text-align: right; ">26</td></tr> <tr> <td>py-difflib</td><td>whitespace=false</td><td style="text-align: right; ">28</td><td style="text-align: right; ">12</td><td style="text-align: right; ">232</td><td style="text-align: right; ">0.9756</td><td style="text-align: right; ">0.9846</td><td style="text-align: right; ">0.768</td><td style="text-align: right; ">0.9412</td><td style="text-align: right; ">0.8629</td><td style="text-align: right; ">4</td></tr> <tr> <td>&nbsp;</td><td>autojunk=false</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>py-fuzzywuzzy</td><td>token_set_ratio</td><td style="text-align: right; ">85</td><td style="text-align: right; ">58</td><td style="text-align: right; ">176</td><td style="text-align: right; ">0.9766</td><td style="text-align: right; ">0.9342</td><td style="text-align: right; ">0.824</td><td style="text-align: right; ">0.9772</td><td style="text-align: right; ">0.8757</td><td style="text-align: right; ">2</td></tr> <tr> <td>py-jellyfish</td><td>jaro_distance</td><td style="text-align: right; ">78</td><td style="text-align: right; ">340</td><td style="text-align: right; ">478</td><td style="text-align: right; ">0.9182</td><td style="text-align: right; ">0.6056</td><td style="text-align: right; ">0.522</td><td style="text-align: right; ">0.8619</td><td style="text-align: right; ">0.5607</td><td style="text-align: right; ">29</td></tr> <tr> <td>py-ngram</td><td>N/A</td><td style="text-align: right; ">49</td><td style="text-align: right; ">110</td><td style="text-align: right; ">224</td><td style="text-align: right; ">0.9666</td><td style="text-align: right; ">0.8758</td><td style="text-align: right; ">0.776</td><td style="text-align: right; ">0.941</td><td style="text-align: right; ">0.8229</td><td style="text-align: right; ">22</td></tr> <tr> <td>py-sklearn</td><td>N/A</td><td style="text-align: right; ">48</td><td style="text-align: right; ">292</td><td style="text-align: right; ">458</td><td style="text-align: right; ">0.925</td><td style="text-align: right; ">0.6499</td><td style="text-align: right; ">0.542</td><td style="text-align: right; ">0.9113</td><td style="text-align: right; ">0.5911</td><td style="text-align: right; ">28</td></tr> </tbody> </table>
* Tools that do not report similarity value directly. Similarity is measured at the granularity level of line (L), token (T), or character (C).

#### Boiler-plate code (SOCO data set)

The table below shows the performance of all the tools and their optimal configurations. Using the F-score, jplag-text is the winner with the highest value of 0.9692.

<table border="1" class="contenttable"> <tbody> <tr> <td>Tool</td><td>Settings</td><td>Threshold</td><td>FP</td><td>FN</td><td>Acc</td><td>Prec</td><td>Rec</td><td>AUC</td><td>F-score</td><td>Ranking</td></tr> <tr> <td colspan="11"><b>Clone detectors</b></td></tr> <tr> <td>Clone det.</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>ccfx (C)*</td><td>b=15,16,17<br> t=12</td><td align="right">25</td><td align="right">42</td><td align="right">15</td><td align="right">0.9992</td><td align="right">0.9125</td><td align="right">0.9669</td><td align="right">0.9905</td><td align="right">0.9389</td><td align="right">7</td></tr> <tr> <td>deckard (T)*</td><td>mintoken=50</td><td align="right">19</td><td align="right">27</td><td align="right">17</td><td align="right">0.9993</td><td align="right">0.9417</td><td align="right">0.9625</td><td align="right">0.9823</td><td align="right">0.9520</td><td align="right">5</td></tr> <tr> <td></td><td>stride=2</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td></td><td>similarity=1.00</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>iclones (L)*</td><td>minblock=40</td><td align="right">19</td><td align="right">20</td><td align="right">57</td><td align="right">0.9989</td><td align="right">0.9519</td><td align="right">0.8742</td><td align="right">0.9469</td><td align="right">0.9114</td><td align="right">12</td></tr> <tr> <td></td><td>minclone=50</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>nicad (L)*</td><td>UPI=0.30</td><td align="right">22</td><td align="right">19</td><td align="right">51</td><td align="right">0.9990</td><td align="right">0.9549</td><td align="right">0.8874</td><td align="right">0.9694</td><td align="right">0.9199</td><td align="right">9</td></tr> <tr> <td></td><td>minline=5</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td></td><td>rename=consistent</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td></td><td>abstract=condition</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>simian (L)*</td><td>threshold=4</td><td align="right">26</td><td align="right">20</td><td align="right">17</td><td align="right">0.9994</td><td align="right">0.9561</td><td align="right">0.9625</td><td align="right">0.9921</td><td align="right">0.9593</td><td align="right">3</td></tr> <tr> <td></td><td>ignoreVariableNames</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>midrule</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>Plag. det.</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>jplag-java</td><td>t=12</td><td align="right">29</td><td align="right">26</td><td align="right">13</td><td align="right">0.9994</td><td align="right">0.9442</td><td align="right">0.9713</td><td align="right">0.9895</td><td align="right">	0.9576</td><td align="right">4</td></tr> <tr> <td>jplag-text</td><td>t=9</td><td align="right">32</td><td align="right">16</td><td align="right">12</td><td align="right">0.9996</td><td align="right">0.9650</td><td align="right">0.9735</td><td align="right">0.9939</td><td align="right">0.9692</td><td align="right">1</td></tr> <tr> <td>plaggie</td><td>M=14</td><td align="right">33</td><td align="right">36</td><td align="right">37</td><td align="right">0.9989</td><td align="right">0.9204</td><td align="right">0.9183</td><td align="right">0.9753</td><td align="right">0.9193</td><td align="right">10</td></tr> <tr> <td>sherlock</td><td>N=5, Z=0</td><td align="right">22</td><td align="right">22</td><td align="right">54</td><td align="right">0.9989</td><td align="right">0.9477</td><td align="right">0.8808</td><td align="right">0.9996</td><td align="right">0.9130</td><td align="right">11</td></tr> <tr> <td>simjava</td><td>r=25</td><td align="right">46</td><td align="right">18</td><td align="right">11</td><td align="right">0.9996</td><td align="right">0.9607</td><td align="right">0.9757</td><td align="right">0.9987</td><td align="right">0.9682</td><td align="right">2</td></tr> <tr> <td>simtext</td><td>r=12</td><td align="right">17</td><td align="right">73</td><td align="right">19</td><td align="right">0.9986</td><td align="right">0.8560</td><td align="right">0.9581</td><td align="right">0.9887</td><td align="right">0.9042</td><td align="right">13</td></tr> <tr> <td>midrule</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>Compression</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>7zncd-BZip2</td><td>mx=1,3,5</td><td align="right">64</td><td align="right">24</td><td align="right">118</td><td align="right">0.9979</td><td align="right">0.9331</td><td align="right">0.7395</td><td align="right">0.9901</td><td align="right">0.8251</td><td align="right">26</td></tr> <tr> <td>7zncd-Deflate</td><td>mx=7</td><td align="right">64</td><td align="right">27</td><td align="right">97</td><td align="right">0.9982</td><td align="right">0.9295</td><td align="right">0.7859</td><td align="right">0.9937</td><td align="right">0.8517</td><td align="right">24</td></tr> <tr> <td>7zncd-Deflate64</td><td>mx=7</td><td align="right">64</td><td align="right">27</td><td align="right">96</td><td align="right">0.9982</td><td align="right">0.9297</td><td align="right">0.7881</td><td align="right">0.9957</td><td align="right">0.8530</td><td align="right">23</td></tr> <tr> <td>7zncd-LZMA</td><td>mx=7,9</td><td align="right">69</td><td align="right">11</td><td align="right">99</td><td align="right">0.9984</td><td align="right">0.9699</td><td align="right">0.7815</td><td align="right">0.9940</td><td align="right">0.8655</td><td align="right">20</td></tr> <tr> <td>7zncd-LZMA2</td><td>mx=7,9</td><td align="right">69</td><td align="right">11</td><td align="right">99</td><td align="right">0.9984</td><td align="right">0.9699</td><td align="right">0.7815</td><td align="right">0.9939</td><td align="right">0.8655</td><td align="right">20</td></tr> <tr> <td>7zncd-PPMd</td><td>mx=9</td><td align="right">68</td><td align="right">19</td><td align="right">106</td><td align="right">0.9981</td><td align="right">0.9481</td><td align="right">0.7660</td><td align="right">0.9948</td><td align="right">0.8474</td><td align="right">25</td></tr> <tr> <td>bzip2ncd</td><td>C=1,2,3,..,8,9</td><td align="right">54</td><td align="right">20</td><td align="right">94</td><td align="right">0.9983</td><td align="right">0.9473</td><td align="right">0.7925</td><td align="right">0.9944</td><td align="right">0.8630</td><td align="right">22</td></tr> <tr> <td>gzipncd</td><td>C=9</td><td align="right">54</td><td align="right">25</td><td align="right">82</td><td align="right">0.9984</td><td align="right">0.9369</td><td align="right">0.8190</td><td align="right">0.9961</td><td align="right">0.8740</td><td align="right">16</td></tr> <tr> <td>icd</td><td>ma=LZMA<br> mx=1,3</td><td align="right">84</td><td align="right">12</td><td align="right">151</td><td align="right">0.9976</td><td align="right">0.9618</td><td align="right">0.6667</td><td align="right">0.9736</td><td align="right">0.7875</td><td align="right">27</td></tr> <tr> <td>ncd-zlib</td><td>N/A</td><td align="right">57</td><td align="right">10</td><td align="right">91</td><td align="right">0.9985</td><td align="right">0.9731</td><td align="right">0.7991</td><td align="right">0.9983</td><td align="right">0.8776</td><td align="right">14</td></tr> <tr> <td>ncd-bzlib</td><td>N/A</td><td align="right">52</td><td align="right">30</td><td align="right">82</td><td align="right">0.9983</td><td align="right">0.9252</td><td align="right">0.8190</td><td align="right">0.9943</td><td align="right">0.8689</td><td align="right">18</td></tr> <tr> <td>xzncd</td><td>2,3</td><td align="right">64</td><td align="right">13</td><td align="right">94</td><td align="right">0.9984</td><td align="right">0.9651</td><td align="right">0.7925</td><td align="right">0.9942</td><td align="right">0.8703</td><td align="right">17</td></tr> <tr> <td></td><td>6,7,8,9,e</td><td align="right">65</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>midrule</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>Others</td><td></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>bsdiff</td><td>N/A</td><td align="right">90</td><td align="right">2125</td><td align="right">212</td><td align="right">0.9652</td><td align="right">0.1019</td><td align="right">0.5320</td><td align="right">0.9161</td><td align="right">0.1710</td><td align="right">29</td></tr> <tr> <td>diff (C)</td><td>N/A</td><td align="right">29</td><td align="right">7745</td><td align="right">5</td><td align="right">0.8845</td><td align="right">0.0547</td><td align="right">0.9890</td><td align="right">0.9180</td><td align="right">0.1036</td><td align="right">30</td></tr> <tr> <td>difflib</td><td>autojunk=true</td><td align="right">42</td><td align="right">30</td><td align="right">21</td><td align="right">0.9992</td><td align="right">0.9351</td><td align="right">0.9536</td><td align="right">0.9999</td><td align="right">0.9443</td><td align="right">6</td></tr> <tr> <td></td><td>whitespace=true</td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td><td align="right"></td></tr> <tr> <td>fuzzywuzzy</td><td>ratio</td><td align="right">65</td><td align="right">30</td><td align="right">30</td><td align="right">0.9991</td><td align="right">0.9338</td><td align="right">0.9338</td><td align="right">0.9989</td><td align="right">0.9338</td><td align="right">8</td></tr> <tr> <td>jellyfish</td><td>jaro_distance</td><td align="right">82</td><td align="right">0</td><td align="right">162</td><td align="right">0.9976</td><td align="right">1.0000</td><td align="right">0.6424</td><td align="right">0.9555</td><td align="right">0.7823</td><td align="right">28</td></tr> <tr> <td>ngram</td><td>N/A</td><td align="right">59</td><td align="right">20</td><td align="right">84</td><td align="right">0.9984</td><td align="right">0.9486</td><td align="right">0.8146</td><td align="right">0.9967</td><td align="right">0.8765</td><td align="right">15</td></tr> <tr> <td>cosine</td><td>N/A</td><td align="right">68</td><td align="right">50</td><td align="right">68</td><td align="right">0.9982</td><td align="right">0.8851</td><td align="right">0.8499</td><td align="right">0.9973</td><td align="right">0.8671</td><td align="right">19</td></tr> </tbody> </table>
* Tools that do not report similarity value directly. Similarity is measured at the granularity level of line (L), token (T), or character (C).

#### Area Under the ROC Curve (AUC)

**OCD data set:** The ROC curves with their respective AUCs are displayed below. In term of the overall performance across the whole range of T, ccfx is the best with the highest AUC of 0.9995.

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/roc-crop.jpg" width="600px">

**SOCO data set:** The ROC curves with their respective AUCs are displayed below. In term of the overall performance across the whole range of T, difflib is the best with the highest AUC of 0.9999.

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/roc_soco-crop.jpg" width="600px">

### RQ2
#### Optimal Configurations

*What are the best parameter settings and similarity thresholds for the techniques?*

The optimal configurations of the tools can be found from the table above (2nd and 3rd column). Specifically, we inspected ccfx's configurations and found the tool has its best configuration around b=19, t={7,9} and b=5, t={11,12} as depicted in the figure below.

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/ccfx_heatmap-crop.jpg" width="600px">

From the scatter plot below, we can see that the default settings of ccfx, b=50, t=12 (denoted with a red X symbol), provides a decent precision but very low recall. We observed that one cannot tune ccfx to obtain the highest precision without sacrificing recall.

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/ccfx_prec_recall-crop.jpg" width="600px">

### RQ3
#### Normalisation by Decompilation

*How much does compilation followed by decompilation as a pre-processing normalisation method improve detection results of pervasively modified code?*

The results after adding compilation and decompilation for normalisation to the post-processing step before performing similarity detection is shown in the figure below. We can clearly observe that decompilation by both Krakatau and Procyon boosts the F-scores of every tool in the study.

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/f1_comparison_okp.jpg" width="800px">

The complete results can be found from the two tables below:

#### Decompiled by Krakatau

<table border="1" class="contenttable"> <tbody> <tr> <td>Tool</td><td>Settings</td><td>Threshold</td><td>FP</td><td>FN</td><td>Acc</td><td>Prec</td><td>Rec</td><td>AUC</td><td>F-score</td><td>Ranking</td></tr> <tr> <td colspan="11"><b>Clone detectors</b></td></tr> <tr> <td>ccfx (C)*</td><td>b=5, t=11</td><td style="text-align: right; ">36</td><td style="text-align: right; ">24</td><td style="text-align: right; ">24</td><td style="text-align: right; ">0.9952</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">0.9995</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">1</td></tr> <tr> <td>deckard (T)*</td><td>mintoken=30</td><td style="text-align: right; ">17</td><td style="text-align: right; ">44</td><td style="text-align: right; ">227</td><td style="text-align: right; ">0.9729</td><td style="text-align: right; ">0.9461</td><td style="text-align: right; ">0.773</td><td style="text-align: right; ">0.9585</td><td style="text-align: right; ">0.8509</td><td style="text-align: right; ">6</td></tr> <tr> <td>&nbsp;</td><td>stride=2</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>similarity=0.95</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>iclones (L)*</td><td>minblock=10</td><td style="text-align: right; ">0</td><td style="text-align: right; ">36</td><td style="text-align: right; ">358</td><td style="text-align: right; ">0.9196</td><td style="text-align: right; ">0.9048</td><td style="text-align: right; ">0.4886</td><td style="text-align: right; ">0.7088</td><td style="text-align: right; ">0.6345</td><td style="text-align: right; ">27</td></tr> <tr> <td>&nbsp;</td><td>minclone=50</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>nicad (L)*</td><td>UPI=0.50</td><td style="text-align: right; ">38</td><td style="text-align: right; ">38</td><td style="text-align: right; ">346</td><td style="text-align: right; ">0.9616</td><td style="text-align: right; ">0.9451</td><td style="text-align: right; ">0.654</td><td style="text-align: right; ">0.8164</td><td style="text-align: right; ">0.773</td><td style="text-align: right; ">23</td></tr> <tr> <td>&nbsp;</td><td>minline=8</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>rename=blind</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>abstract=literal</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>simian (C)*</td><td>threshold=4</td><td style="text-align: right; ">5</td><td style="text-align: right; ">150</td><td style="text-align: right; ">165</td><td style="text-align: right; ">0.9685</td><td style="text-align: right; ">0.8477</td><td style="text-align: right; ">0.835</td><td style="text-align: right; ">0.9262</td><td style="text-align: right; ">0.8413</td><td style="text-align: right; ">9</td></tr> <tr> <td>&nbsp;</td><td>ignoreVariableNames</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td colspan="11"><b>Plagiarism detectors</b></td></tr> <tr> <td>jplag-java</td><td>t=7</td><td style="text-align: right; ">19</td><td style="text-align: right; ">58</td><td style="text-align: right; ">196</td><td style="text-align: right; ">0.9746</td><td style="text-align: right; ">0.9327</td><td style="text-align: right; ">0.804</td><td style="text-align: right; ">0.9563</td><td style="text-align: right; ">0.8636</td><td style="text-align: right; ">3</td></tr> <tr> <td>jplag-text</td><td>t=4</td><td style="text-align: right; ">14</td><td style="text-align: right; ">66</td><td style="text-align: right; ">239</td><td style="text-align: right; ">0.9695</td><td style="text-align: right; ">0.9202</td><td style="text-align: right; ">0.761</td><td style="text-align: right; ">0.9658</td><td style="text-align: right; ">0.8331</td><td style="text-align: right; ">12</td></tr> <tr> <td>plaggie</td><td>M=8</td><td style="text-align: right; ">19</td><td style="text-align: right; ">83</td><td style="text-align: right; ">234</td><td style="text-align: right; ">0.9683</td><td style="text-align: right; ">0.9022</td><td style="text-align: right; ">0.766</td><td style="text-align: right; ">0.9546</td><td style="text-align: right; ">0.8286</td><td style="text-align: right; ">15</td></tr> <tr> <td>sherlock</td><td>N=4, Z=2</td><td style="text-align: right; ">6</td><td style="text-align: right; ">142</td><td style="text-align: right; ">196</td><td style="text-align: right; ">0.9662</td><td style="text-align: right; ">0.8499</td><td style="text-align: right; ">0.804</td><td style="text-align: right; ">0.9447</td><td style="text-align: right; ">0.8263</td><td style="text-align: right; ">17</td></tr> <tr> <td>simjava</td><td>r=16</td><td style="text-align: right; ">15</td><td style="text-align: right; ">120</td><td style="text-align: right; ">152</td><td style="text-align: right; ">0.9728</td><td style="text-align: right; ">0.876</td><td style="text-align: right; ">0.848</td><td style="text-align: right; ">0.9711</td><td style="text-align: right; ">0.8618</td><td style="text-align: right; ">5</td></tr> <tr> <td>simtext</td><td>r=4</td><td style="text-align: right; ">14</td><td style="text-align: right; ">38</td><td style="text-align: right; ">422</td><td style="text-align: right; ">0.954</td><td style="text-align: right; ">0.9383</td><td style="text-align: right; ">0.578</td><td style="text-align: right; ">0.8075</td><td style="text-align: right; ">0.7153</td><td style="text-align: right; ">25</td></tr> <tr> <td colspan="11"><b>Compression tools</b></td></tr> <tr> <td>7zncd-BZip2</td><td>mx=1,3,5</td><td style="text-align: right; ">45</td><td style="text-align: right; ">64</td><td style="text-align: right; ">244</td><td style="text-align: right; ">0.9692</td><td style="text-align: right; ">0.922</td><td style="text-align: right; ">0.756</td><td style="text-align: right; ">0.9557</td><td style="text-align: right; ">0.8308</td><td style="text-align: right; ">14</td></tr> <tr> <td>7zncd-Deflate</td><td>mx=7</td><td style="text-align: right; ">38</td><td style="text-align: right; ">122</td><td style="text-align: right; ">215</td><td style="text-align: right; ">0.9663</td><td style="text-align: right; ">0.8655</td><td style="text-align: right; ">0.785</td><td style="text-align: right; ">0.9454</td><td style="text-align: right; ">0.8233</td><td style="text-align: right; ">20</td></tr> <tr> <td>7zncd-Deflate64</td><td>mx=7,9</td><td style="text-align: right; ">38</td><td style="text-align: right; ">123</td><td style="text-align: right; ">215</td><td style="text-align: right; ">0.9662</td><td style="text-align: right; ">0.8645</td><td style="text-align: right; ">0.785</td><td style="text-align: right; ">0.9453</td><td style="text-align: right; ">0.8229</td><td style="text-align: right; ">21</td></tr> <tr> <td>7zncd-LZMA</td><td>mx=7,9</td><td style="text-align: right; ">41</td><td style="text-align: right; ">115</td><td style="text-align: right; ">213</td><td style="text-align: right; ">0.9672</td><td style="text-align: right; ">0.8725</td><td style="text-align: right; ">0.787</td><td style="text-align: right; ">0.9483</td><td style="text-align: right; ">0.8275</td><td style="text-align: right; ">16</td></tr> <tr> <td>7zncd-LZMA2</td><td>mx=7,9</td><td style="text-align: right; ">41</td><td style="text-align: right; ">118</td><td style="text-align: right; ">213</td><td style="text-align: right; ">0.9669</td><td style="text-align: right; ">0.8696</td><td style="text-align: right; ">0.787</td><td style="text-align: right; ">0.9482</td><td style="text-align: right; ">0.8262</td><td style="text-align: right; ">18</td></tr> <tr> <td>7zncd-PPMd</td><td>mx=9</td><td style="text-align: right; ">42</td><td style="text-align: right; ">140</td><td style="text-align: right; ">198</td><td style="text-align: right; ">0.9662</td><td style="text-align: right; ">0.8514</td><td style="text-align: right; ">0.802</td><td style="text-align: right; ">0.9467</td><td style="text-align: right; ">0.826</td><td style="text-align: right; ">19</td></tr> <tr> <td>bzip2ncd</td><td>C=1..9</td><td style="text-align: right; ">38</td><td style="text-align: right; ">62</td><td style="text-align: right; ">216</td><td style="text-align: right; ">0.9722</td><td style="text-align: right; ">0.9267</td><td style="text-align: right; ">0.784</td><td style="text-align: right; ">0.9635</td><td style="text-align: right; ">0.8494</td><td style="text-align: right; ">7</td></tr> <tr> <td>gzipncd</td><td>C=7</td><td style="text-align: right; ">31</td><td style="text-align: right; ">110</td><td style="text-align: right; ">203</td><td style="text-align: right; ">0.9687</td><td style="text-align: right; ">0.8787</td><td style="text-align: right; ">0.797</td><td style="text-align: right; ">0.9556</td><td style="text-align: right; ">0.8359</td><td style="text-align: right; ">11</td></tr> <tr> <td>icd</td><td>ma=LZMA2</td><td style="text-align: right; ">50</td><td style="text-align: right; ">86</td><td style="text-align: right; ">356</td><td style="text-align: right; ">0.9558</td><td style="text-align: right; ">0.8822</td><td style="text-align: right; ">0.644</td><td style="text-align: right; ">0.9265</td><td style="text-align: right; ">0.7445</td><td style="text-align: right; ">24</td></tr> <tr> <td>&nbsp;</td><td>mx=7,9</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>ncd-zlib</td><td>N/A</td><td style="text-align: right; ">30</td><td style="text-align: right; ">104</td><td style="text-align: right; ">207</td><td style="text-align: right; ">0.9689</td><td style="text-align: right; ">0.8841</td><td style="text-align: right; ">0.793</td><td style="text-align: right; ">0.9584</td><td style="text-align: right; ">0.8361</td><td style="text-align: right; ">10</td></tr> <tr> <td>ncd-bzlib</td><td>N/A</td><td style="text-align: right; ">37</td><td style="text-align: right; ">82</td><td style="text-align: right; ">206</td><td style="text-align: right; ">0.9712</td><td style="text-align: right; ">0.9064</td><td style="text-align: right; ">0.794</td><td style="text-align: right; ">0.9636</td><td style="text-align: right; ">0.8465</td><td style="text-align: right; ">8</td></tr> <tr> <td>xzncd</td><td>-e</td><td style="text-align: right; ">39</td><td style="text-align: right; ">120</td><td style="text-align: right; ">203</td><td style="text-align: right; ">0.9677</td><td style="text-align: right; ">0.8691</td><td style="text-align: right; ">0.797</td><td style="text-align: right; ">0.9516</td><td style="text-align: right; ">0.8315</td><td style="text-align: right; ">13</td></tr> <tr> <td colspan="11"><b>Other similarity analysers</b></td></tr> <tr> <td>bsdiff*</td><td>N/A</td><td style="text-align: right; ">71</td><td style="text-align: right; ">199</td><td style="text-align: right; ">577</td><td style="text-align: right; ">0.9224</td><td style="text-align: right; ">0.6801</td><td style="text-align: right; ">0.423</td><td style="text-align: right; ">0.8562</td><td style="text-align: right; ">0.5216</td><td style="text-align: right; ">30</td></tr> <tr> <td>% diff (L)*</td><td>N/A</td><td style="text-align: right; ">1</td><td style="text-align: right; ">8810</td><td style="text-align: right; ">8</td><td style="text-align: right; ">0.1182</td><td style="text-align: right; ">0.1012</td><td style="text-align: right; ">0.992</td><td style="text-align: right; ">0.4675</td><td style="text-align: right; ">0.1837</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>% diff (T)*</td><td>N/A</td><td style="text-align: right; ">2</td><td style="text-align: right; ">6528</td><td style="text-align: right; ">134</td><td style="text-align: right; ">0.3338</td><td style="text-align: right; ">0.1171</td><td style="text-align: right; ">0.866</td><td style="text-align: right; ">0.4353</td><td style="text-align: right; ">0.2063</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>diff (C)*</td><td>N/A</td><td style="text-align: right; ">8</td><td style="text-align: right; ">626</td><td style="text-align: right; ">184</td><td style="text-align: right; ">0.919</td><td style="text-align: right; ">0.5659</td><td style="text-align: right; ">0.816</td><td style="text-align: right; ">0.9364</td><td style="text-align: right; ">0.6683</td><td style="text-align: right; ">26</td></tr> <tr> <td>py-difflib</td><td>whitespace=false</td><td style="text-align: right; ">28</td><td style="text-align: right; ">12</td><td style="text-align: right; ">232</td><td style="text-align: right; ">0.9756</td><td style="text-align: right; ">0.9846</td><td style="text-align: right; ">0.768</td><td style="text-align: right; ">0.9412</td><td style="text-align: right; ">0.8629</td><td style="text-align: right; ">4</td></tr> <tr> <td>&nbsp;</td><td>autojunk=false</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>py-fuzzywuzzy</td><td>token_set_ratio</td><td style="text-align: right; ">85</td><td style="text-align: right; ">58</td><td style="text-align: right; ">176</td><td style="text-align: right; ">0.9766</td><td style="text-align: right; ">0.9342</td><td style="text-align: right; ">0.824</td><td style="text-align: right; ">0.9772</td><td style="text-align: right; ">0.8757</td><td style="text-align: right; ">2</td></tr> <tr> <td>py-jellyfish</td><td>jaro_distance</td><td style="text-align: right; ">78</td><td style="text-align: right; ">340</td><td style="text-align: right; ">478</td><td style="text-align: right; ">0.9182</td><td style="text-align: right; ">0.6056</td><td style="text-align: right; ">0.522</td><td style="text-align: right; ">0.8619</td><td style="text-align: right; ">0.5607</td><td style="text-align: right; ">29</td></tr> <tr> <td>py-ngram</td><td>N/A</td><td style="text-align: right; ">49</td><td style="text-align: right; ">110</td><td style="text-align: right; ">224</td><td style="text-align: right; ">0.9666</td><td style="text-align: right; ">0.8758</td><td style="text-align: right; ">0.776</td><td style="text-align: right; ">0.941</td><td style="text-align: right; ">0.8229</td><td style="text-align: right; ">22</td></tr> <tr> <td>py-sklearn</td><td>N/A</td><td style="text-align: right; ">48</td><td style="text-align: right; ">292</td><td style="text-align: right; ">458</td><td style="text-align: right; ">0.925</td><td style="text-align: right; ">0.6499</td><td style="text-align: right; ">0.542</td><td style="text-align: right; ">0.9113</td><td style="text-align: right; ">0.5911</td><td style="text-align: right; ">28</td></tr> </tbody> </table>

#### The complete list of the optimal configurations

the complete list of optimal configurations for Krakatau is shown below.

<table border="1" class="contenttable"> 	<tbody><tr><td><b>Tool</b></td><td><b>Settings</b></td><td><b>Granularity</b></td><td><b>Threshold</b></td></tr> <tr> <td>ccfx</td><td>b=5, t=8</td><td>T</td><td>50</td> </tr> <tr> <td></td><td>b=5, t=11</td><td>T</td><td>17</td> </tr> <tr> <td>deckard</td><td>mintoken=30, stride=1, similarity=0.95</td><td>L, T, C</td><td>29,29,34</td></tr> <tr> <td></td><td>mintoken=30, stride=1, similarity=1.00</td><td>L, T, C</td><td>10,12,15</td></tr> <tr> <td></td><td>mintoken=30, stride=2, similarity=0.90</td><td>T</td><td>54</td></tr> <tr> <td></td><td>mintoken=30, stride=2, similarity=0.95</td><td>L, T, C</td><td>22,28,32</td></tr> <tr> <td></td><td>mintoken=30, stride=inf, similarity=0.95</td><td>L, T, C</td><td>29,29,34</td></tr> <tr> <td></td><td>mintoken=30, stride=inf, similarity=1.00</td><td>L, T, C</td><td>10,12,15</td></tr> <tr> <td></td><td>mintoken=50, stride=1, similarity=0.95</td><td>L, T, C</td><td>23,29,31</td></tr> <tr> <td></td><td>mintoken=50, stride=2, similarity=0.95</td><td>L, T, C</td><td>21,18,23</td></tr> <tr> <td></td><td>mintoken=50, stride=inf, similarity=0.95</td><td>L, T, C</td><td>23,28,31</td> </tr> <tr> <td>simian</td><td>threshold={3,4}, ignoreidentifiers</td><td>T</td><td>17</td></tr> <tr> <td></td><td>threshold=3, ignoreidentifiers</td><td>C</td><td></td> </tr> <tr> <td></td><td>threshold=5, ignoreidentifiers</td><td>L</td><td>12</td> </tr> <tr> <td></td><td>threshold=5, ignoreidentifiers</td><td>T</td><td>13</td> </tr> <tr> <td>simjava</td><td>r=18,19</td><td></td><td>17</td> </tr> <tr> <td></td><td>r=20</td><td></td><td>16</td> </tr> <tr> <td></td><td>r=26,27</td><td></td><td>11</td> </tr> <tr> <td></td><td>r=28</td><td></td><td>9</td> </tr> <tr> <td></td><td>r=default</td><td></td><td>27</td> </tr> <tr> <td>simtext</td><td>r=4</td><td></td><td>33</td> </tr> <tr> <td></td><td>r=5</td><td></td><td>31</td> </tr> <tr> <td>icd</td><td>ma=LZMA, mx={7,9}</td><td></td><td>54</td> </tr> <tr> <td></td><td>ma=LZMA2, mx={7,9}</td><td></td><td></td> </tr> </tbody></table>

#### Decompiled by Procyon

<table border="1" class="contenttable"> <tbody> <tr> <td>Tool</td><td>Settings</td><td>Threshold</td><td>FP</td><td>FN</td><td>Acc</td><td>Prec</td><td>Rec</td><td>AUC</td><td>F-score</td><td>Ranking</td></tr> <tr> <td colspan="11"><b>Clone detectors</b></td></tr> <tr> <td>ccfx* (L)</td><td>b=20 t=1..7</td><td style="text-align: right; ">11</td><td style="text-align: right; ">4</td><td style="text-align: right; ">38</td><td style="text-align: right; ">0.9958</td><td style="text-align: right; ">0.9959</td><td style="text-align: right; ">0.962</td><td style="text-align: right; ">0.997</td><td style="text-align: right; ">0.9786</td><td style="text-align: right; ">4</td></tr> <tr> <td>deckard* (T)</td><td>mintoken=30</td><td style="text-align: right; ">10</td><td style="text-align: right; ">0</td><td style="text-align: right; ">32</td><td style="text-align: right; ">0.9968</td><td style="text-align: right; ">1</td><td style="text-align: right; ">0.968</td><td style="text-align: right; ">0.9978</td><td style="text-align: right; ">0.9837</td><td style="text-align: right; ">2</td></tr> <tr> <td>&nbsp;</td><td>stride=1 inf</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>similarity=1.00</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>iclones* (C)</td><td>minblock=10</td><td style="text-align: right; ">0</td><td style="text-align: right; ">18</td><td style="text-align: right; ">98</td><td style="text-align: right; ">0.9884</td><td style="text-align: right; ">0.9804</td><td style="text-align: right; ">0.902</td><td style="text-align: right; ">0.9508</td><td style="text-align: right; ">0.9396</td><td style="text-align: right; ">11</td></tr> <tr> <td>&nbsp;</td><td>minclone=50</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>nicad* (W)</td><td>UPI=0.30</td><td style="text-align: right; ">11</td><td style="text-align: right; ">16</td><td style="text-align: right; ">100</td><td style="text-align: right; ">0.9884</td><td style="text-align: right; ">0.9825</td><td style="text-align: right; ">0.9</td><td style="text-align: right; ">0.9536</td><td style="text-align: right; ">0.9394</td><td style="text-align: right; ">12</td></tr> <tr> <td>&nbsp;</td><td>minline=10</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>rename=blind</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>abstract=condition, literal</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>simian* (C)</td><td>threshold=3</td><td style="text-align: right; ">23</td><td style="text-align: right; ">8</td><td style="text-align: right; ">70</td><td style="text-align: right; ">0.9922</td><td style="text-align: right; ">0.9915</td><td style="text-align: right; ">0.93</td><td style="text-align: right; ">0.9987</td><td style="text-align: right; ">0.9598</td><td style="text-align: right; ">8</td></tr> <tr> <td>&nbsp;</td><td>ignoreIdentifiers</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td colspan="11"><b>Plagiarism detectors</b></td></tr> <tr> <td>jplag-java</td><td>t=8</td><td style="text-align: right; ">22</td><td style="text-align: right; ">0</td><td style="text-align: right; ">72</td><td style="text-align: right; ">0.9928</td><td style="text-align: right; ">1</td><td style="text-align: right; ">0.928</td><td style="text-align: right; ">0.9887</td><td style="text-align: right; ">0.9627</td><td style="text-align: right; ">7</td></tr> <tr> <td>jplag-text</td><td>t=9</td><td style="text-align: right; ">11</td><td style="text-align: right; ">16</td><td style="text-align: right; ">48</td><td style="text-align: right; ">0.9936</td><td style="text-align: right; ">0.9835</td><td style="text-align: right; ">0.952</td><td style="text-align: right; ">0.9982</td><td style="text-align: right; ">0.9675</td><td style="text-align: right; ">6</td></tr> <tr> <td>plaggie</td><td>M=13 14</td><td style="text-align: right; ">10</td><td style="text-align: right; ">16</td><td style="text-align: right; ">80</td><td style="text-align: right; ">0.9904</td><td style="text-align: right; ">0.9829</td><td style="text-align: right; ">0.92</td><td style="text-align: right; ">0.9773</td><td style="text-align: right; ">0.9504</td><td style="text-align: right; ">9</td></tr> <tr> <td>sherlock</td><td>N=1 Z=0</td><td style="text-align: right; ">55</td><td style="text-align: right; ">28</td><td style="text-align: right; ">16</td><td style="text-align: right; ">0.9956</td><td style="text-align: right; ">0.9723</td><td style="text-align: right; ">0.984</td><td style="text-align: right; ">0.9997</td><td style="text-align: right; ">0.9781</td><td style="text-align: right; ">5</td></tr> <tr> <td>simjava</td><td>r=default</td><td style="text-align: right; ">11</td><td style="text-align: right; ">8</td><td style="text-align: right; ">0</td><td style="text-align: right; ">0.9992</td><td style="text-align: right; ">0.9921</td><td style="text-align: right; ">1</td><td style="text-align: right; ">0.9999</td><td style="text-align: right; ">0.996</td><td style="text-align: right; ">1</td></tr> <tr> <td>simtext</td><td>r=4</td><td style="text-align: right; ">15</td><td style="text-align: right; ">42</td><td style="text-align: right; ">100</td><td style="text-align: right; ">0.9858</td><td style="text-align: right; ">0.9554</td><td style="text-align: right; ">0.9</td><td style="text-align: right; ">0.9686</td><td style="text-align: right; ">0.9269</td><td style="text-align: right; ">14</td></tr> <tr> <td>&nbsp;</td><td>r=default</td><td style="text-align: right; ">0</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td colspan="11"><b>Compression tools</b></td></tr> <tr> <td>7zncd-BZip2</td><td>mx=1 3 5</td><td style="text-align: right; ">51</td><td style="text-align: right; ">30</td><td style="text-align: right; ">116</td><td style="text-align: right; ">0.9854</td><td style="text-align: right; ">0.9672</td><td style="text-align: right; ">0.884</td><td style="text-align: right; ">0.9909</td><td style="text-align: right; ">0.9237</td><td style="text-align: right; ">16</td></tr> <tr> <td>7zncd-Deflate</td><td>mx=9</td><td style="text-align: right; ">49</td><td style="text-align: right; ">25</td><td style="text-align: right; ">154</td><td style="text-align: right; ">0.9821</td><td style="text-align: right; ">0.9713</td><td style="text-align: right; ">0.846</td><td style="text-align: right; ">0.9827</td><td style="text-align: right; ">0.9043</td><td style="text-align: right; ">20</td></tr> <tr> <td>7zncd-Deflate64</td><td>mx=9</td><td style="text-align: right; ">49</td><td style="text-align: right; ">25</td><td style="text-align: right; ">154</td><td style="text-align: right; ">0.9821</td><td style="text-align: right; ">0.9713</td><td style="text-align: right; ">0.846</td><td style="text-align: right; ">0.9827</td><td style="text-align: right; ">0.9043</td><td style="text-align: right; ">20</td></tr> <tr> <td>7zncd-LZMA</td><td>mx=7 9</td><td style="text-align: right; ">52</td><td style="text-align: right; ">16</td><td style="text-align: right; ">164</td><td style="text-align: right; ">0.982</td><td style="text-align: right; ">0.9812</td><td style="text-align: right; ">0.836</td><td style="text-align: right; ">0.9843</td><td style="text-align: right; ">0.9028</td><td style="text-align: right; ">23</td></tr> <tr> <td>7zncd-LZMA2</td><td>mx=7 9</td><td style="text-align: right; ">52</td><td style="text-align: right; ">17</td><td style="text-align: right; ">164</td><td style="text-align: right; ">0.9819</td><td style="text-align: right; ">0.9801</td><td style="text-align: right; ">0.836</td><td style="text-align: right; ">0.9841</td><td style="text-align: right; ">0.9023</td><td style="text-align: right; ">24</td></tr> <tr> <td>7zncd-PPMd</td><td>mx=9</td><td style="text-align: right; ">53</td><td style="text-align: right; ">22</td><td style="text-align: right; ">122</td><td style="text-align: right; ">0.9856</td><td style="text-align: right; ">0.9756</td><td style="text-align: right; ">0.878</td><td style="text-align: right; ">0.9861</td><td style="text-align: right; ">0.9242</td><td style="text-align: right; ">15</td></tr> <tr> <td>bzip2ncd</td><td>C=1..9 default</td><td style="text-align: right; ">47</td><td style="text-align: right; ">12</td><td style="text-align: right; ">140</td><td style="text-align: right; ">0.9848</td><td style="text-align: right; ">0.9862</td><td style="text-align: right; ">0.86</td><td style="text-align: right; ">0.9922</td><td style="text-align: right; ">0.9188</td><td style="text-align: right; ">18</td></tr> <tr> <td>gzipncd</td><td>C=3</td><td style="text-align: right; ">36</td><td style="text-align: right; ">40</td><td style="text-align: right; ">133</td><td style="text-align: right; ">0.9827</td><td style="text-align: right; ">0.9559</td><td style="text-align: right; ">0.867</td><td style="text-align: right; ">0.9846</td><td style="text-align: right; ">0.9093</td><td style="text-align: right; ">25</td></tr> <tr> <td>icd</td><td>ma=LZMA, mx=7 9</td><td style="text-align: right; ">54</td><td style="text-align: right; ">37</td><td style="text-align: right; ">150</td><td style="text-align: right; ">0.9813</td><td style="text-align: right; ">0.9583</td><td style="text-align: right; ">0.85</td><td style="text-align: right; ">0.9721</td><td style="text-align: right; ">0.9009</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>ma=LZMA2, mx=7 9</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td></tr> <tr> <td>ncd-zlib</td><td>N/A</td><td style="text-align: right; ">41</td><td style="text-align: right; ">30</td><td style="text-align: right; ">158</td><td style="text-align: right; ">0.9812</td><td style="text-align: right; ">0.9656</td><td style="text-align: right; ">0.842</td><td style="text-align: right; ">0.9876</td><td style="text-align: right; ">0.8996</td><td style="text-align: right; ">26</td></tr> <tr> <td>ncd-bzlib</td><td>N/A</td><td style="text-align: right; ">47</td><td style="text-align: right; ">8</td><td style="text-align: right; ">140</td><td style="text-align: right; ">0.9852</td><td style="text-align: right; ">0.9908</td><td style="text-align: right; ">0.86</td><td style="text-align: right; ">0.9923</td><td style="text-align: right; ">0.9208</td><td style="text-align: right; ">17</td></tr> <tr> <td>xzncd</td><td>-e</td><td style="text-align: right; ">49</td><td style="text-align: right; ">35</td><td style="text-align: right; ">148</td><td style="text-align: right; ">0.9817</td><td style="text-align: right; ">0.9605</td><td style="text-align: right; ">0.852</td><td style="text-align: right; ">0.986</td><td style="text-align: right; ">0.903</td><td style="text-align: right; ">22</td></tr> <tr> <td colspan="11"><b>Other similarity analysers</b></td></tr> <tr> <td>bsdiff</td><td>N/A</td><td style="text-align: right; ">73</td><td style="text-align: right; ">48</td><td style="text-align: right; ">236</td><td style="text-align: right; ">0.9716</td><td style="text-align: right; ">0.9409</td><td style="text-align: right; ">0.764</td><td style="text-align: right; ">0.9606</td><td style="text-align: right; ">0.8433</td><td style="text-align: right; ">29</td></tr> <tr> <td>diff (C)</td><td>N/A</td><td style="text-align: right; ">23</td><td style="text-align: right; ">6</td><td style="text-align: right; ">244</td><td style="text-align: right; ">0.975</td><td style="text-align: right; ">0.9921</td><td style="text-align: right; ">0.756</td><td style="text-align: right; ">0.9826</td><td style="text-align: right; ">0.8581</td><td style="text-align: right; ">28</td></tr> <tr> <td>py-difflib</td><td>autojunk=true</td><td style="text-align: right; ">26</td><td style="text-align: right; ">12</td><td style="text-align: right; ">94</td><td style="text-align: right; ">0.9894</td><td style="text-align: right; ">0.9869</td><td style="text-align: right; ">0.906</td><td style="text-align: right; ">0.9788</td><td style="text-align: right; ">0.9447</td><td style="text-align: right; ">10</td></tr> <tr> <td>py-fuzzywuzzy</td><td>token_set_ratio</td><td style="text-align: right; ">90</td><td style="text-align: right; ">0</td><td style="text-align: right; ">36</td><td style="text-align: right; ">0.9964</td><td style="text-align: right; ">1</td><td style="text-align: right; ">0.964</td><td style="text-align: right; ">0.9992</td><td style="text-align: right; ">0.9817</td><td style="text-align: right; ">3</td></tr> <tr> <td>py-jellyfish</td><td>jaro_winkler</td><td style="text-align: right; ">87</td><td style="text-align: right; ">84</td><td style="text-align: right; ">270</td><td style="text-align: right; ">0.9646</td><td style="text-align: right; ">0.8968</td><td style="text-align: right; ">0.73</td><td style="text-align: right; ">0.9218</td><td style="text-align: right; ">0.8049</td><td style="text-align: right; ">30</td></tr> <tr> <td>py-ngram</td><td>N/A</td><td style="text-align: right; ">58</td><td style="text-align: right; ">8</td><td style="text-align: right; ">192</td><td style="text-align: right; ">0.98</td><td style="text-align: right; ">0.9902</td><td style="text-align: right; ">0.808</td><td style="text-align: right; ">0.9714</td><td style="text-align: right; ">0.8899</td><td style="text-align: right; ">27</td></tr> <tr> <td>py-sklearn</td><td>N/A</td><td style="text-align: right; ">69</td><td style="text-align: right; ">54</td><td style="text-align: right; ">74</td><td style="text-align: right; ">0.9872</td><td style="text-align: right; ">0.9449</td><td style="text-align: right; ">0.926</td><td style="text-align: right; ">0.9897</td><td style="text-align: right; ">0.9354</td><td style="text-align: right; ">12</td></tr> </tbody> </table>

#### Statistical Tests

To strengthen the findings, we performed a statistical test to see if the performance before and after normalisation via decompilation differ with statistically significance. We chose non-parametric two-tailed Wilcoxon signed-rank test (however, we also tried using the randomisation (i.e. permutation) test on the results and found identical test results in all cases.) and performed the test with a confidence interval value of 95% (i.e. alpha <= 0.05).
The table below shows that the observed F-scores before and after decompilation are different with statistical significance for both Krakatau and Procyon. We complement the statistical test by employing a non-parametric effect size measure called Vargha and Delaney's A measure to measure the level of differences between two populations. Vargha and Delaney define 3 levels of a difference; small, medium, and large; by having A value over 0.56, 0.64, and 0.71, respectively. Using this scale, our F-score differences between before and after decompilation by Krakatau A=0.031) and Procyon (A=0.063) are small.

<table border="1" class="contenttable"> 	<tbody><tr><td>Test</td><td style="text-align: right; ">p-value</td><td style="text-align: center; ">Significant?</td><td style="text-align: right; ">Vargha-Delaney's A</td></tr> 	<tr><td>Before-after decompiled by Krakatau</td><td style="text-align: right; ">1.863e-09</td><td style="text-align: center; ">Yes</td><td style="text-align: right; ">0.031</td></tr> 	<tr><td>Before-after decompiled by Procyon</td><td style="text-align: right; ">1.863e-09</td><td style="text-align: center; ">Yes</td><td style="text-align: right; ">0.063</td></tr>  </tbody></table>



To strengthen the findings, we performed a statistical test to see if the performance before and after normalisation via decompilation differ with statistically significance. We chose non-parametric two-tailed Wilcoxon signed-rank test (however, we also tried using the randomisation (i.e. permutation) test on the results and found identical test results in all cases.) and performed the test with a confidence interval value of 95% (i.e. alpha <= 0.05).
The table below shows that the observed F-scores before and after decompilation are different with statistical significance for both Krakatau and Procyon. We complement the statistical test by employing a non-parametric effect size measure called Vargha and Delaney's A measure to measure the level of differences between two populations. Vargha and Delaney define 3 levels of a difference; small, medium, and large; by having A value over 0.56, 0.64, and 0.71, respectively. Using this scale, our F-score differences between before and after decompilation by Krakatau A=0.031) and Procyon (A=0.063) are small.

### RQ4
#### Reuse of Configurations

*Can we reuse optimal configurations from one data set in another data set effectively?*

For the 10 highest ranking tools from RQ1, we applied the derived optimal configurations obtained from the generated data set (denoted as Cgenerated* to the SOCO data set. The table below shows that using these configurations has a detrimental impact on the similarity detection results for another data set, even for tools that have no parameters (e.g. ncd-zlib and ncd-bzlib) and are only influenced by the chosen similarity threshold.

<table border="1" class="contenttable"> <tbody> <tr> <td>Tools</td><td colspan="4">OCD</td><td colspan="3">SOCO</td></tr> <tr> <td>&nbsp;</td><td rowspan="2">Settings</td><td rowspan="2" style="text-align: right; ">T</td><td>OCD</td><td>SOCO</td><td rowspan="2">Settings</td><td rowspan="2" style="text-align: right; ">T</td><td>SOCO</td></tr> <tr> <td>&nbsp;</td><td>F-score</td><td>F-score</td><td>F-score</td></tr> <tr> <td>ccfx (C)</td><td>b=5 t=11</td><td style="text-align: right; ">&nbsp;&nbsp;&nbsp;36</td><td style="text-align: right; ">0.976</td><td style="text-align: right; ">0.8441</td><td>b=15 16 17</td><td style="text-align: right; ">&nbsp;&nbsp;&nbsp;25</td><td>0.9389</td></tr> <tr> <td>&nbsp;</td><td>&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td>t=12</td><td>&nbsp;</td><td>&nbsp;</td></tr> <tr> <td>py-fuzzywuzzy</td><td>token_set_ratio</td><td style="text-align: right; ">85</td><td style="text-align: right; ">0.8757</td><td style="text-align: right; ">0.6012</td><td>ratio</td><td style="text-align: right; ">65</td><td style="text-align: right; ">0.9338</td></tr> <tr> <td>jplag-java</td><td>t=7</td><td style="text-align: right; ">19</td><td style="text-align: right; ">0.8636</td><td style="text-align: right; ">0.3168</td><td>t=12</td><td style="text-align: right; ">29</td><td style="text-align: right; ">0.9576</td></tr> <tr> <td>py-difflib</td><td>autojunk=false</td><td style="text-align: right; ">28</td><td style="text-align: right; ">0.8629</td><td style="text-align: right; ">0.2113</td><td>autojunk=true</td><td style="text-align: right; ">42</td><td style="text-align: right; ">0.9443</td></tr> <tr> <td>&nbsp;</td><td>whitespace=false</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td>whitespace=true</td><td>&nbsp;</td><td>&nbsp;</td></tr> <tr> <td>simjava</td><td>r=16&nbsp;</td><td style="text-align: right; ">15</td><td style="text-align: right; ">0.8618</td><td style="text-align: right; ">0.5888</td><td>r=25</td><td style="text-align: right; ">23</td><td style="text-align: right; ">0.9259</td></tr> <tr> <td>deckard (T)</td><td>mintoken=30</td><td style="text-align: right; ">17</td><td style="text-align: right; ">0.8509</td><td style="text-align: right; ">0.3305</td><td>mintoken=50</td><td style="text-align: right; ">19</td><td style="text-align: right; ">0.952</td></tr> <tr> <td>&nbsp;</td><td>stride=2</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td>stride=1</td><td>&nbsp;</td><td>&nbsp;</td></tr> <tr> <td>&nbsp;</td><td>similarity=0.95</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td style="text-align: right; ">&nbsp;</td><td>similarity=1.0</td><td>&nbsp;</td><td>&nbsp;</td></tr> <tr> <td>bzip2ncd</td><td>C=1..9</td><td style="text-align: right; ">38</td><td style="text-align: right; ">0.8494</td><td style="text-align: right; ">0.3661</td><td>C=1 .. 9</td><td style="text-align: right; ">54</td><td style="text-align: right; ">0.863</td></tr> <tr> <td>ncd-bzlib</td><td>N/A</td><td style="text-align: right; ">37</td><td style="text-align: right; ">0.8465</td><td style="text-align: right; ">0.3357</td><td>N/A</td><td style="text-align: right; ">52</td><td style="text-align: right; ">0.8689</td></tr> <tr> <td>simian (C)</td><td>threshold=4</td><td style="text-align: right; ">5</td><td style="text-align: right; ">0.8413</td><td style="text-align: right; ">0.6394</td><td>threshold=4</td><td style="text-align: right; ">26</td><td style="text-align: right; ">0.9593</td></tr> <tr><td></td><td>ignoreVariableNames</td><td style="text-align: right; "></td><td style="text-align: right; "></td><td style="text-align: right; "></td><td>ignoreVariableNames</td><td style="text-align: right; "></td><td style="text-align: right; "></td></tr> <tr> <td>ncd-zlib</td><td>N/A</td><td style="text-align: right; ">30</td><td style="text-align: right; ">0.8361</td><td style="text-align: right; ">0.3454</td><td>N/A</td><td style="text-align: right; ">57</td><td style="text-align: right; ">0.8776</td></tr> </tbody> </table>

### RQ5
### Ranked Results

*Which tools perform best when only the top n results are retrieved?*

We applied additional three error measures; precision-at-n (prec@n), average r-precision (ARP) and mean average precision (MAP); adopted from information retrieval to the OCD and SOCO data set. The results are shown below. The complete settings can be found in the CSV files below.

#### Ranked results: genereated data set

<table border="1" class="contenttable"> <tbody><tr> <td rowspan="2">Ranking</td><td colspan="2">Pair-based</td><td colspan="2">Query-based</td></tr> <tr><td>F-score</td><td>prec@n</td><td>ARP</td><td>MAP</td></tr> <tr> <td align="right">1</td><td>(0.976) ccfx</td><td>(0.976) ccfx</td><td>(1.000) ccfx</td><td>(1.000) ccfx  </td> </tr> <tr> <td align="right">2</td><td>(0.876) fuzzywuzzy</td><td>(0.860) simjava</td><td>(0.915) fuzzywuzzy</td><td>(0.949) fuzzywuzzy  </td> </tr> <tr> <td align="right">3</td><td>(0.864) jplag-java</td><td>(0.858) fuzzywuzzy</td><td>(0.913) ncd-bzlib</td><td>(0.943) ncd-bzlib  </td> </tr> <tr> <td align="right">4</td><td>(0.863) difflib</td><td>(0.842) simian</td><td>(0.912) 7zncd-BZip2</td><td>(0.942) bzip2ncd  </td> </tr> <tr> <td align="right">5</td><td>(0.862) simjava</td><td>(0.836) deckard</td><td>(0.909) bzip2ncd</td><td>(0.938) 7zncd-BZip2   </td> </tr> <tr> <td align="right">6</td><td>(0.851) deckard</td><td>(0.836) jplag-java</td><td>(0.900) 7zncd-PPMd</td><td>(0.937) gzipncd   </td> </tr> <tr> <td align="right">7</td><td>(0.849) bzip2ncd</td><td>(0.832) bzip2ncd</td><td>(0.900) gzipncd</td><td>(0.935) ncd-zlib   </td> </tr> <tr> <td align="right">8</td><td>(0.847) ncd-bzlib</td><td>(0.828) difflib</td><td>(0.898) ncd-zlib</td><td>(0.933) jplag-text  </td> </tr> <tr> <td align="right">9</td><td>(0.841) simian</td><td>(0.826) ncd-bzlib</td><td>(0.898) xzncd</td><td>(0.930) 7zncd-PPMd  </td> </tr> <tr> <td align="right">10</td><td>(0.836) ncd-zlib</td><td>(0.820) 7zncd-BZip2</td><td>(0.895) 7zncd-LZMA2</td><td>(0.929) xzncd  </td> </tr> </tbody></table>

#### Ranked results: SOCO data set

<table border="1" class="contenttable"> <tbody> 	<tr> 	<td rowspan="2">Ranking</td><td colspan="2">Pair-based</td><td colspan="2">Query-based</td></tr> 	<tr><td>F-score</td><td>prec@n</td><td>ARP</td><td>MAP</td></tr> 	<tr> <td align="right">1</td><td>(0.969) jplag-text</td><td>(0.965) jplag-text</td><td>(0.998) jplag-java</td><td>(0.997) jplag-java</td> </tr> <tr> <td align="right">2</td><td>(0.968) simjava</td><td>(0.960) simjava</td><td>(0.998) difflib</td><td>(0.997) difflib</td> </tr> <tr> <td align="right">3</td><td>(0.959) simian</td><td>(0.956) simian</td><td>(0.989) ccfx</td><td>(0.993) jplag-text</td> </tr> <tr> <td align="right">4</td><td>(0.958) jplag-java</td><td>(0.947) deckard</td><td>(0.989) simjava</td><td>(0.988) simjava</td> </tr> <tr> <td align="right">5</td><td>(0.952) deckard</td><td>(0.943) jplag-java</td><td>(0.987) gzipncd</td><td>(0.987) gzipncd</td> </tr> <tr> <td align="right">6</td><td>(0.944) difflib</td><td>(0.938) difflib</td><td>(0.986) jplag-text</td><td>(0.987) ncd-zlib</td> </tr> <tr> <td align="right">7</td><td>(0.939) ccfx</td><td>(0.929) ccfx</td><td>(0.985) ncd-zlib</td><td>(0.986) sherlock</td> </tr> <tr> <td align="right">8</td><td>(0.934) fuzzywuzzy</td><td>(0.929) fuzzywuzzy</td><td>(0.984) 7zncd-Deflate</td><td>(0.986) 7zncd-Deflate64</td> </tr> <tr> <td align="right">9</td><td>(0.920) nicad</td><td>(0.914) plaggie</td><td>(0.984) 7zncd-Deflate64</td><td>(0.986) 7zncd-Deflate</td> </tr> <tr> <td align="right">10</td><td>(0.919) plaggie</td><td>(0.901) nicad</td><td>(0.983) 7zncd-LZMA</td><td>(0.984) fuzzywuzzy</td> </tr> </tbody></table>

We also varied several number of n for precision-at-n. The plot of the tools' performances by multiple precision-at-n values are shown below.

#### Multiple prec-at-n values for OCD data set

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/prec_at_n_line.jpg" width="600px">

#### Multiple prec-at-n values for SOCO data set

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/prec_at_n_soco_line.jpg" width="600px">

#### Statistical Tests

Since ARP are computed based on mean, we performed a statistical test to strengthen our results by testing for statistical significance of differences in the set of r-precision values between tools. We chose a one-tailed non-parametric randomisation test (i.e. permutation test) due to its robustness test results in information retrieval as shown by Smucker et al. (2007) (we also tried using one-tailed Wilcoxon signed-rank test on the results and found identical test results in all cases). We performed the test using 100,000 random samples with a confidence interval value of 95% (i.e. alpha <= 0.05). The statistical test results show, for the generated data set, ccfx is the only tool that dominates other tools on their r-precisions values with statistical significance. For SOCO data set, jplag-java and difflib outperform 7zncd-Deflate, 7zncd-Deflate64, and 7zncd-LZMA with statistical significance.

Similarly, since MAP is also computed based on mean, we performed a one-tailed non-parametric randomisation statistical test on pairwise comparisons of the tools' MAP values. The test results show, for the generated data set, ccfx dominating other tools' MAPs with statistical significance. For the SOCO data set, we found that jplag-java and difflib outperform gzipncd, ncd-zlib, sherlock, 7zncd-Deflate64, 7zncd-Deflate, and fuzzywuzzy with statistical significance.

### RQ6
#### Local + Global Modification

*How well do the techniques perform when source code containing boiler-plate code clones have been pervasively modified?*

We evaluate the tools on a data set combining both local and global code modifications. This question also studies which types of pervasive modifications (source code obfuscation, bytecode obfuscation, compilation/decompilation) provide strong effects to tools' performances.

#### Tools' Performances vs. Individual Pervasive Modification Type

<img src="https://raw.githubusercontent.com/UCL-CREST/ocd/master/rq6_boxplot.jpg" width="600px">

Using the results from Experimental Scenario 5, we present the tools performances based on F-scores in the table below and show the distribution of F-scores in a boxplot. The F-scores are grouped according to the 10 pervasive code modification types. The numbers are highlighted when F-scores are higher than 0.8.

<table border="1" class="contenttable"> <tbody><tr><td><b>Tool</b></td><td colspan="11" align="center"><b>F-score</b></td></tr> <tr><td></td><td>O</td><td>A</td><td>K</td><td>P<sub>c</sub></td><td>P<sub>gK</sub></td><td>P<sub>g</sub>P<sub>c</sub></td><td>AK</td><td>AP<sub>c</sub></td><td>AP<sub>g</sub>K</td><td>A P<sub>g</sub>P<sub>c</sub></td></tr> <tr><td colspan="12"><b>Clone det.</b></td></tr> <tr> <td>ccfx (C)*</td><td><b>0.8911</b></td><td>0.3714</td><td>0.0000</td><td>0.6265</td><td align="right">0.0000</td><td align="right">0.1034</td><td>0.0000</td><td>0.2985</td><td align="right">0.0000</td><td align="right">0.1034</td></tr> <tr> <td>deckard (T)*</td><td><b>0.9636</b></td><td><b>0.9217</b></td><td>0.1667</td><td>0.3333</td><td align="right">0.0357</td><td align="right">0.2286</td><td>0.1667</td><td>0.3252</td><td align="right">0.0357</td><td align="right">0.2286</td> </tr> <tr> <td>iclones (L)*</td><td>0.5000</td><td>0.0000</td><td>0.0000</td><td>0.0357</td><td align="right">0.0000</td><td align="right">0.0000</td><td>0.0000</td><td>0.0000</td><td align="right">0.0000</td><td align="right">0.0000</td> </tr> <tr> <td>nicad (T)*</td><td>0.5823</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td align="right">0.0000</td><td align="right">0.0000</td><td>0.0000</td><td>0.0000</td><td align="right">0.0000</td><td align="right">0.0000</td> </tr> <tr> <td>simian (L)*</td><td><b>0.8350</b></td><td>0.1034</td><td>0.0357</td><td>0.1356</td><td align="right">0.0000</td><td align="right">0.0357</td><td>0.0000</td><td>0.0357</td><td align="right">0.0000</td><td align="right">0.0357</td> </tr> <tr> </tr><tr> <td colspan="12"><b>Plagiarism det.</b></td></tr> <tr> <td>jplag-java</td><td><b>1.0000</b></td><td><b>1.0000</b></td><td>0.7429</td><td><b>0.9524</b></td><td align="right">0.2973</td><td align="right">0.4533</td><td>0.7547</td><td><b>0.9720</b></td><td align="right">0.2973</td><td align="right">0.4507</td> </tr> <tr> <td>jplag-text</td><td><b>0.9815</b></td><td>0.6265</td><td>0.5581</td><td>0.6304</td><td align="right">0.3590</td><td align="right">0.4250</td><td>0.4906</td><td>0.5581</td><td align="right">0.3590</td><td align="right">0.4304</td> </tr> <tr> <td>plaggie</td><td><b>0.9636</b></td><td><b>0.9159</b></td><td>0.7363</td><td><b>0.9372</b></td><td align="right">0.2171</td><td align="right">0.4626</td><td>0.7363</td><td><b>0.9423</b></td><td align="right">0.2171</td><td align="right">0.4626</td> </tr> <tr> <td>sherlock</td><td><b>0.9483</b></td><td><b>0.8298</b></td><td>0.7872</td><td><b>0.8298</b></td><td align="right">0.3061</td><td align="right">0.3516</td><td>0.6744</td><td>0.7826</td><td align="right">0.3061</td><td align="right">0.3516</td> </tr> <tr> <td>simjava</td><td><b>0.9649</b></td><td><b>0.9815</b></td><td><b>1.0000</b></td><td>0.7525</td><td align="right">0.3188</td><td align="right">0.3913</td><td><b>0.8041</b></td><td>0.7525</td><td align="right">0.3188</td><td align="right">0.3913</td> </tr> <tr> <td>simtext</td><td><b>0.9649</b></td><td>0.7191</td><td>0.1667</td><td>0.4932</td><td align="right">0.0357</td><td align="right">0.1667</td><td>0.0702</td><td>0.2258</td><td align="right">0.0357</td><td align="right">0.1667</td> </tr> <tr> </tr><tr> <td colspan="12"><b>Compression</b></td></tr> <tr> <td>7zncd-BZip2</td><td><b>0.9273</b></td><td>0.7736</td><td>0.6852</td><td><b>0.8649</b></td><td align="right">0.2446</td><td align="right">0.3704</td><td>0.6423</td><td>0.7465</td><td align="right">0.2446</td><td align="right">0.3704</td> </tr> <tr> <td>7zncd-Deflate</td><td><b>0.9483</b></td><td>0.7579</td><td>0.6935</td><td><b>0.8406</b></td><td align="right">0.2427</td><td align="right">0.3333</td><td>0.6360</td><td>0.7418</td><td align="right">0.2427</td><td align="right">0.3333</td> </tr> <tr> <td>7zncd-Deflate64</td><td><b>0.9483</b></td><td>0.7579</td><td>0.6935</td><td><b>0.8406</b></td><td align="right">0.2427</td><td align="right">0.3333</td><td>0.6360</td><td>0.7373</td><td align="right">0.2427</td><td align="right">0.3333</td> </tr> <tr> <td>7zncd-LZMA</td><td><b>0.9649</b></td><td>0.7967</td><td>0.7488</td><td><b>0.8851</b></td><td align="right">0.2663</td><td align="right">0.3842</td><td>0.6768</td><td>0.7665</td><td align="right">0.2632</td><td align="right">0.3842</td> </tr> <tr> <td>7zncd-LZMA2</td><td><b>0.9649</b></td><td>0.7934</td><td>0.7536</td><td><b>0.8851</b></td><td align="right">0.2718</td><td align="right">0.3923</td><td>0.6700</td><td>0.7632</td><td align="right">0.2697</td><td align="right">0.4000</td> </tr> <tr> <td>7zncd-PPMd</td><td><b>0.9623</b></td><td>0.7965</td><td>0.7628</td><td><b>0.8909</b></td><td align="right">0.2581</td><td align="right">0.3796</td><td>0.6667</td><td><b>0.8019</b></td><td align="right">0.2581</td><td align="right">0.3796</td> </tr> <tr> <td>bzip2ncd</td><td><b>0.9649</b></td><td><b>0.8305</b></td><td><b>0.8302</b></td><td><b>0.9273</b></td><td align="right">0.3590</td><td align="right">0.4681</td><td>0.7612</td><td><b>0.8448</b></td><td align="right">0.3562</td><td align="right">0.4681</td> </tr> <tr> <td>gzipncd</td><td><b>0.9623</b></td><td>0.7965</td><td>0.7628</td><td><b>0.8909</b></td><td align="right">0.2581</td><td align="right">0.3796</td><td>0.6667</td><td><b>0.8019</b></td><td align="right">0.2581</td><td align="right">0.3796</td> </tr> <tr> <td>icd</td><td><b>0.9216</b></td><td>0.5058</td><td>0.4371</td><td>0.5623</td><td align="right">0.2237</td><td align="right">0.2822</td><td>0.3478</td><td>0.4239</td><td align="right">0.2237</td><td align="right">0.2822</td> </tr> <tr> <td>ncd-zlib</td><td><b>0.9821</b></td><td><b>0.8571</b></td><td><b>0.8246</b></td><td><b>0.9432</b></td><td align="right">0.4021</td><td align="right">0.4920</td><td>0.7491</td><td><b>0.8559</b></td><td align="right">0.3963</td><td align="right">0.4920</td> </tr> <tr> <td>ncd-bzlib</td><td><b>0.9649</b></td><td><b>0.8269</b></td><td><b>0.8269</b></td><td><b>0.9273</b></td><td align="right">0.3529</td><td align="right">0.4634</td><td>0.7500</td><td><b>0.8448</b></td><td align="right">0.3500</td><td align="right">0.4719</td> </tr> <tr> <td>xzncd</td><td><b>0.9734</b></td><td><b>0.8416</b></td><td>0.7925</td><td><b>0.9198</b></td><td align="right">0.3133</td><td align="right">0.4615</td><td>0.7035</td><td><b>0.8148</b></td><td align="right">0.3133</td><td align="right">0.4615</td> </tr> <tr> </tr><tr> <td colspan="12"><b>Others</b></td></tr> <tr> <td>bsdiff</td><td>0.4388</td><td>0.2280</td><td>0.1529</td><td>0.2005</td><td align="right">0.1151</td><td align="right">0.1350</td><td>0.1276</td><td>0.1596</td><td align="right">0.1152</td><td align="right">0.1353</td> </tr> <tr> <td>diff (C)</td><td>0.2835</td><td>0.2374</td><td>0.1585</td><td>0.2000</td><td align="right">0.1296</td><td align="right">0.1248</td><td>0.1530</td><td>0.1786</td><td align="right">0.1302</td><td align="right">0.1249</td> </tr> <tr> <td>difflib</td><td><b>0.9821</b></td><td><b>0.9550</b></td><td><b>0.8952</b></td><td><b>0.9565</b></td><td align="right">0.4790</td><td align="right">0.5087</td><td><b>0.8688</b></td><td><b>0.9381</b></td><td align="right">0.4606</td><td align="right">0.5091</td> </tr> <tr> <td>fuzzywuzzy</td><td><b>1.0000</b></td><td><b>0.9821</b></td><td><b>0.9259</b></td><td><b>0.9636</b></td><td align="right">0.4651</td><td align="right">0.5116</td><td><b>0.9074</b></td><td><b>0.9541</b></td><td align="right">0.4557</td><td align="right">0.5116</td> </tr> <tr> <td>jellyfish</td><td><b>0.9273</b></td><td>0.7253</td><td>0.6400</td><td>0.6667</td><td align="right">0.2479</td><td align="right">0.3579</td><td>0.5513</td><td>0.5000</td><td align="right">0.2479</td><td align="right">0.3662</td> </tr> <tr> <td>ngram</td><td><b>1.0000</b></td><td><b>0.9464</b></td><td><b>0.8952</b></td><td><b>0.9346</b></td><td align="right">0.4110</td><td align="right">0.4490</td><td><b>0.8785</b></td><td><b>0.8908</b></td><td align="right">0.4054</td><td align="right">0.4578</td> </tr> <tr> <td>cosine</td><td><b>0.9074</b></td><td>0.6847</td><td>0.7123</td><td>0.6800</td><td align="right">0.3500</td><td align="right">0.3596</td><td>0.5823</td><td>0.5287</td><td align="right">0.3500</td><td align="right">0.3596</td> </tr> </tbody></table>

### Raw data download

#### Raw data of the results from the four experimental scenarios can be downloaded below:

##### [Results from the genereated SOCO, and SOCO<sup>gen</sup> data set](https://github.com/UCL-CREST/ocd/blob/master/results_generated_soco.zip)
